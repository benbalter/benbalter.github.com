// Custom Bootstrap variables (must be defined before importing Bootstrap)
$header-path: "/assets/img/header.jpg";
$blue: #337ab7;
$enable-shadows: true;
$enable-gradients: true;
$tooltip-max-width: 350px;
$color-mode-type: media-query;

// Import Bootstrap
// Note: Bootstrap 5.3.x still uses @import internally. The deprecation warning
// is silenced via sass-loader configuration until Bootstrap migrates to @use.
@import "~bootstrap/scss/bootstrap";

// Syntax highlighting styles
@import 'highlighting';

// Dark and light mode syntax highlighting colors
// Each partial now contains its own @media query wrapper
@import 'base16.dark';
@import 'base16.light';

abbr[data-bs-original-title] {
    @extend abbr, [title]
}

// Footnotes styling for Jekyll-generated footnotes
// Extends Bootstrap utilities for consistent styling and spacing
.footnotes {
    @extend small;
    @extend .border-top;
    @extend .pt-3;
}

.footnotes::before {
    content: "Notes:";
    @extend .mb-3;
    @extend .d-block;
}

.footnotes ol {
    @extend .ps-3
}

.footnotes ol li p {
    @extend .mb-1
}

// Hero header image for homepage
// Uses background-size: cover to ensure the image fills the entire hero area
.hero-unit {
    background-image: url($header-path);
    background-size: cover;
    background-position: top left;
    height: 400px;
}

// GitHub Gist embedded code styling overrides
// Ensures light theme styling for embedded Gists regardless of site color mode
.gist {
    .gist-it-gist .gist-file .gist-data,
    .gist-meta {
        background: #fcfcff !important;
    }

    .pl-c {
        color: #757775 !important;
    }

    .pl-c1 {
        color: #007faa !important;
    }
}

// Minimum height utility for book titles on the recommended reading page
// Ensures consistent card heights when titles vary in length
.min-y-5 {
    min-height: 5em;
}

// Blockquote styling for markdown-generated quotes
// Uses left border for visual distinction, following traditional web design patterns
// Applies to all <blockquote> elements automatically generated from markdown (>)
blockquote {
    border-left: 5px solid $gray-300;
    padding-left: 1em;
}

// Avatar styling for author images
// Extends Bootstrap utilities for consistent image display
.avatar {
    @extend .img-fluid;
    @extend .rounded;
}

// Footer link accessibility fix
// Bootstrap's link-secondary uses gray-600 (#6c757d) which has ~4.48:1 contrast ratio
// against white, below WCAG AA requirement of 4.5:1. Using gray-700 (#495057) provides
// ~7.13:1 contrast ratio, meeting both WCAG AA and AAA requirements.
footer .link-secondary,
nav .border-top .link-secondary {
    color: var(--bs-gray-700) !important;

    &:hover,
    &:focus {
        color: var(--bs-gray-800) !important;
    }
}

// Dark mode footer link adjustment
@media (prefers-color-scheme: dark) {
    footer .link-secondary,
    nav .border-top .link-secondary {
        color: var(--bs-gray-400) !important;

        &:hover,
        &:focus {
            color: var(--bs-gray-300) !important;
        }
    }
}

// Reduce text sizes for better readability
.navbar-brand {
    font-size: 1.125rem; // Reduced from default ~1.25rem
}

.navbar .nav-link {
    font-size: 0.9375rem; // Reduced from default 1rem
}

.navbar-text {
    font-size: 0.875rem; // Reduced from default 1rem
}

footer .nav-link {
    font-size: 0.875rem; // Reduced from default 1rem
}

// Reduce post list text sizes (for index/home page)
// NOTE: Add the `.post-list-link` class to anchor tags in the index/home page template for this style to apply.
.post-list-link {
    font-size: 0.9375rem; // Slightly smaller post titles
}

.post-meta {
    font-size: 0.8125rem; // Reduced from default 0.875rem
}

// Reduce mini-bio text size
.mini-bio .avatar + p,
.mini-bio .avatar ~ p {
    font-size: 0.9375rem; // Reduced from default 1rem
}