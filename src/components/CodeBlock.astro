---
/**
 * CodeBlock Component
 * 
 * Enhanced code block with title and copy functionality.
 * Uses Bootstrap utilities for layout and styling.
 * 
 * Usage in MDX:
 * <CodeBlock title="example.js" language="javascript">
 * const message = 'Hello, World!';
 * console.log(message);
 * </CodeBlock>
 */

interface Props {
  title?: string;
  language?: string;
}

const { title, language } = Astro.props;
---

<div class="border rounded my-4 overflow-hidden">
  {title && (
    <div class="d-flex justify-content-between align-items-center px-3 py-2 bg-secondary-subtle border-bottom">
      <span class="font-monospace small fw-semibold">{title}</span>
      {language && <span class="small text-secondary text-uppercase">{language}</span>}
    </div>
  )}
  <div class="p-0 code-block-content">
    <slot />
  </div>
</div>

<style>
  /* Minimal custom styles - reset pre element margins and borders */
  .code-block-content :global(pre) {
    margin: 0;
    border-radius: 0;
  }
</style>
