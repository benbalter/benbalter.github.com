---
/**
 * PostCard Component
 * 
 * Display a blog post with title, date, description, and reading time in a card format.
 * Uses Tailwind CSS best practices: utility-first with minimal custom CSS.
 * 
 * Props:
 * - title: Post title
 * - url: Post URL
 * - date: Post date (formatted string for display)
 * - isoDate: Post date in ISO 8601 format (YYYY-MM-DD) for datetime attribute
 * - description: Post description/excerpt
 * - readingTime: Reading time in minutes
 */

import { formatReadingTime } from '../utils/reading-time';
import { stripMarkdown } from '../utils/strip-markdown';

interface Props {
  title: string;
  url: string;
  date: string;
  isoDate: string;
  description?: string;
  readingTime: number;
}

const { title, url, date, isoDate, description, readingTime } = Astro.props;
---

<article class="group relative h-full overflow-hidden rounded-lg border border-gray-200 bg-white transition-all duration-200 hover:border-primary/30 hover:shadow-[0_6px_16px_rgba(0,0,0,0.12)] motion-safe:hover:-translate-y-1 dark:border-gray-700 dark:bg-gray-800 dark:hover:border-primary/40 dark:hover:shadow-[0_6px_16px_rgba(0,0,0,0.4)]">
  <!-- Gradient accent bar (appears on hover) -->
  <div class="absolute inset-y-0 left-0 w-[3px] bg-gradient-to-b from-primary/60 to-primary/30 opacity-0 transition-opacity duration-200 group-hover:opacity-100 dark:from-primary/80 dark:to-primary/50" aria-hidden="true"></div>
  
  <div class="p-4 max-md:pt-3">
    <h3 class="mb-2 text-base font-semibold leading-snug tracking-tight">
      <a href={url} class="text-gray-900 no-underline before:absolute before:inset-0 transition-colors duration-200 group-hover:text-primary dark:group-hover:text-primary-300 dark:text-gray-100">{title}</a>
    </h3>
    <div class="mb-2 text-sm text-gray-600 dark:text-gray-400">
      <time datetime={isoDate}>{date}</time>
      <span class="mx-1" aria-hidden="true">â€¢</span>
      <span>{formatReadingTime(readingTime)}</span>
    </div>
    {description && (
      <p class="mb-0 text-sm text-gray-600 dark:text-gray-400">{stripMarkdown(description)}</p>
    )}
  </div>
</article>
