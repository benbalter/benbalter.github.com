---
/**
 * Callout Component
 * 
 * Display important information, warnings, or notes in blog posts.
 * Uses Bootstrap 5.3 alert component as base with custom border styling.
 * 
 * Usage in MDX:
 * <Callout type="info">This is an info callout</Callout>
 * <Callout type="warning">This is a warning</Callout>
 * <Callout type="error">This is an error message</Callout>
 */

interface Props {
  type?: 'info' | 'warning' | 'error' | 'success';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const icons = {
  info: 'üí°',
  warning: '‚ö†Ô∏è',
  error: '‚ùå',
  success: '‚úÖ',
};

// Map callout types to Bootstrap alert types
const alertTypeMap = {
  info: 'info',
  warning: 'warning',
  error: 'danger',
  success: 'success',
};

const alertType = alertTypeMap[type];
---

<div class={`alert alert-${alertType} border-start border-4 my-4 p-3 rounded`} role="alert">
  {title && (
    <div class="d-flex align-items-center gap-2 mb-2 fw-semibold">
      <span class="fs-5">{icons[type]}</span>
      <strong>{title}</strong>
    </div>
  )}
  <div class="m-0 callout-content">
    <slot />
  </div>
</div>

<style lang="scss">
  // Import Bootstrap alert component
  @import 'bootstrap/scss/functions';
  @import 'bootstrap/scss/variables';
  @import 'bootstrap/scss/variables-dark';
  @import 'bootstrap/scss/maps';
  @import 'bootstrap/scss/mixins';
  @import 'bootstrap/scss/alert';
  
  // Note: alert-link color contrast fix moved to src/styles/optimized.scss
  // for global application across all alert components
  
  // Minimal custom style to ensure last paragraph has no bottom margin
  .callout-content :global(p:last-child) {
    margin-bottom: 0;
  }
</style>
