---
/**
 * Callout Component
 * 
 * Display important information, warnings, or notes in blog posts.
 * Uses Tailwind CSS with custom border styling.
 * 
 * Usage in MDX:
 * <Callout type="info">This is an info callout</Callout>
 * <Callout type="warning">This is a warning</Callout>
 * <Callout type="error">This is an error message</Callout>
 */

interface Props {
  type?: 'info' | 'warning' | 'error' | 'success';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const icons = {
  info: 'üí°',
  warning: '‚ö†Ô∏è',
  error: '‚ùå',
  success: '‚úÖ',
};

// Map callout types to Tailwind color classes
const colorClasses = {
  info: 'border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200',
  warning: 'border-yellow-500 bg-yellow-50 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200',
  error: 'border-red-500 bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200',
  success: 'border-green-500 bg-green-50 dark:bg-green-900/30 text-green-800 dark:text-green-200',
};
---

<div class={`alert border-l-4 my-6 p-4 rounded ${colorClasses[type]}`} role="alert">
  {title && (
    <div class="flex items-center gap-2 mb-2 font-semibold">
      <span class="text-lg">{icons[type]}</span>
      <strong>{title}</strong>
    </div>
  )}
  <div class="m-0 callout-content">
    <slot />
  </div>
</div>

<style>
  @reference "../styles/global.css";
  
  /* Ensure last paragraph has no bottom margin */
  .callout-content :global(p:last-child) {
    @apply mb-0;
  }
</style>
